webpackJsonp([11],{"991W":function(t,e){},NHnr:function(t,e,n){"use strict";function r(t){this.Valid=!1,this.ID15="",this.ID18="",this.Local="",null!=t&&this.SetCardNo(t)}function o(t){n("TNMV")}Object.defineProperty(e,"__esModule",{value:!0});var i={};n.d(i,"getNewDate",function(){return k}),n.d(i,"getUseTime",function(){return W});var a=n("fZjL"),s=n.n(a),u=n("v5o6"),c=n.n(u),l=n("/ocq"),p=function(t){return function(){return n("Opzk")("./"+t+".vue")}},d=[{path:"/",name:"Home",component:p("Home")},{path:"/settingPage",name:"SettingPage",component:p("SettingPage")},{path:"/login",name:"Login",component:p("Login")},{path:"/register",name:"Register",component:p("Register")},{path:"/forgetPassword",name:"ForgetPassword",component:p("ForgetPassword")},{path:"/personalCenter",name:"PersonalCenter",component:p("PersonalCenter")},{path:"/alarmRecord",name:"AlarmRecord",component:p("AlarmRecord")},{path:"/helpCenter",name:"HelpCenter",component:p("HelpCenter")},{path:"/eWMShare",name:"EWMShare",component:p("EWMShare")}];Vue.use(l.a);var f=new l.a({routes:d}),h=n("NYxO"),m=n("mvHQ"),v=n.n(m),g=n("//Fk"),w=n.n(g);r.prototype.SetCardNo=function(t){this.ID15="",this.ID18="",this.Local="",t=t.replace(" ","");var e,n;if(18==t.length){if(n=/^\d{17}(\d|x|X)$/,null==n.exec(t))return;e=t.toUpperCase()}else{if(n=/^\d{15}$/,null==n.exec(t))return;e=t.substr(0,6)+"19"+t.substr(6,9),e+=this.GetVCode(e)}this.Valid=this.CheckValid(e)},r.prototype.IsValid=function(){return this.Valid},r.prototype.GetBirthDate=function(){var t="";return this.Valid&&(t=this.GetBirthYear()+"-"+this.GetBirthMonth()+"-"+this.GetBirthDay()),t},r.prototype.GetBirthYear=function(){var t="";return this.Valid&&(t=this.ID18.substr(6,4)),t},r.prototype.GetBirthMonth=function(){var t="";return this.Valid&&(t=this.ID18.substr(10,2)),"0"==t.charAt(0)&&(t=t.charAt(1)),t},r.prototype.GetBirthDay=function(){var t="";return this.Valid&&(t=this.ID18.substr(12,2)),t},r.prototype.GetSex=function(){var t="";return this.Valid&&(t=this.ID18.charAt(16)%2),t},r.prototype.Get15=function(){var t="";return this.Valid&&(t=this.ID15),t},r.prototype.Get18=function(){var t="";return this.Valid&&(t=this.ID18),t},r.prototype.GetLocal=function(){var t="";return this.Valid&&(t=this.Local),t},r.prototype.GetVCode=function(t){for(var e=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1),n=new Array("1","0","X","9","8","7","6","5","4","3","2"),r=0,o=0;o<t.length;o++)r+=t.charAt(o)*e[o];return n[r%11]},r.prototype.CheckValid=function(t){if(this.GetVCode(t.substr(0,17))!=t.charAt(17))return!1;if(!this.IsDate(t.substr(6,8)))return!1;var e={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};return null!=e[parseInt(t.substr(0,2))]&&(this.ID18=t,this.ID15=t.substr(0,6)+t.substr(8,9),this.Local=e[parseInt(t.substr(0,2))],!0)},r.prototype.IsDate=function(t){var e=t.match(/^(\d{1,4})(\d{1,2})(\d{1,2})$/);if(null==e)return!1;var n=new Date(e[1],e[2]-1,e[3]);return n.getFullYear()==e[1]&&n.getMonth()+1==e[2]&&n.getDate()==e[3]};var I="http://sos.1000da.com.cn",b="http://hly.1000da.com.cn",D={initSwiperList:function(t,e){var n=t.commit;return new w.a(function(t,r){axios.post(I+"/SowingPic/AndroidSelectMx",v()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var e=e.data;if(200==Number(e.resultcode)){var o=e.dataSpic;o=o.map(function(t){return{img:t.sos_sp_ImageUrl,title:t.sos_sp_Title}}),n("initSwiperList",o),n("initScrollingMessageList",e.dataSmsg),t(e.resultcontent)}else r(e.resultcontent)})})},VerificationCode:function(t,e){return new w.a(function(t,n){axios.post(I+"/UserInfo/SosSendMessage",v()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var e=e.data;200==Number(e.resultcode)?t(e.resultcontent):n(e.resultcontent)})})},registerSubmit:function(t,e){return new w.a(function(t,n){axios.post(b+"/UserInfo/RegByCode",v()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var e=e.data;200==Number(e.resultcode)?t(e.resultcontent):n(e.resultcontent)})})},loginSubmit:function(t,e){var n=t.commit;return new w.a(function(t,r){axios.post(b+"/UserInfo/Login",v()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var e=e.data;200==Number(e.resultcode)?(n("setUserInfo",e.data),t(e.resultcontent)):r(e.resultcontent)})})},AlarmRecordUpCallback:function(t,e){t.commit;return new w.a(function(t,n){axios.post(I+"/Alarm/Select",v()(e),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var e=e.data;200==Number(e.resultcode)?t(e.data):n(e.resultcontent)})})}},_={swiperList:function(t){return t.swiperList},scrollingMessageList:function(t){return t.scrollingMessageList},userInfo:function(t){return t.userInfo}},C={swiperList:[],scrollingMessageList:[],userInfo:{}},y={initSwiperList:function(t,e){t.swiperList=e},initScrollingMessageList:function(t,e){t.scrollingMessageList=e},setUserInfo:function(t,e){t.userInfo=e}},U={getters:_,state:C,mutations:y};Vue.use(h.a);var S=new h.a.Store({modules:{mutations:U},actions:D}),V=n("9JMe"),L=(Object(h.b)(["userInfo"]),{components:{},computed:Object(h.b)(["userInfo"]),name:"app",data:function(){return{UpdateD:!1,obj:{}}},watch:{$route:function(t,e){this.userInfo.sm_ui_ID||this.$router.push({name:"Login"})}},methods:{cancle:function(){this.$store.commit("setIsOff",!1),this.UpdateD=!1},createDownload:function(){plus.nativeUI.showWaiting("下载更新文件..."),plus.downloader.createDownload(this.obj.sm_as_DownLoadUrl,{},function(t,e){200==e?(plus.nativeUI.showWaiting("安装更新文件..."),plus.runtime.install(t.filename,{},function(){plus.nativeUI.closeWaiting(),plus.nativeUI.alert("应用资源更新完成！",function(){plus.runtime.restart()})},function(t){plus.nativeUI.closeWaiting(),plus.nativeUI.alert("安装更新文件失败["+t.code+"]："+t.message)})):plus.nativeUI.alert("下载更新失败！"),plus.nativeUI.closeWaiting()}).start()},updateEdition:function(){this.createDownload()}},mounted:function(){var t=this;mui.plusReady(function(){plus.runtime.getProperty(plus.runtime.appid,function(e){var n=e.version;if(n){var r={operateUserID:"",operateUserName:"",pcName:"",loginUserID:"huileyou",loginUserPass:"123",token:"",sm_as_AppID:"2"};axios.post(b+"/AppStore/SelectNewest",v()(r),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){var r=e.data;200===Number(r.resultcode)&&(t.obj=r.data,r.data.sm_as_VersionNo!=n&&(t.UpdateD=!0))})}})})}}),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.UpdateD,expression:"UpdateD"}],staticClass:"toUpdateWrap"},[n("div",{staticClass:"toUpdateBox"},[n("div",{staticClass:"updateBg"},[n("div",{staticClass:"updatePlane"}),t._v(" "),n("i",{on:{click:t.cancle}})]),t._v(" "),n("div",{staticClass:"toUpdateContent"},[n("div",{staticClass:"aboutEdition"},[n("span",[t._v("最新版本: V"+t._s(t.obj.sm_as_VersionNo))]),t._v(" "),n("span",[t._v("新版本大小: "+t._s(t.obj.sm_as_Size))])]),t._v(" "),n("div",{staticClass:"newContent"},[n("strong",[t._v("更新内容:")]),t._v(" "),n("span",[t._v(t._s(t.obj.sm_as_Describe))])]),t._v(" "),n("a",{attrs:{href:"javascript:;"},on:{click:t.updateEdition}},[t._v("立即更新")])])])])],1)},x=[],M={render:N,staticRenderFns:x},P=M,G=n("VU/8"),j=o,A=G(L,P,!1,j,null,null),T=A.exports,k=(n("991W"),function(t){var e=/\d+/g;if(t){var n=t.match(e)[0],r=new Date(Number(n));return r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()}}),W=function(t){var e=new Date;return t?t.includes(".")?t.substring(0,t.indexOf(".")).replace(/T/," "):t.replace(/T/," "):e.getFullYear()+"-"+getNum(e.getMonth()+1)+"-"+getNum(e.getDate())+" "+getNum(e.getHours())+":"+getNum(e.getMinutes())+":"+getNum(e.getSeconds())};s()(i).forEach(function(t){Vue.filter(t,i[t])}),c.a.attach(document.body),Vue.config.productionTip=!1,Object(V.sync)(S,f),new Vue({router:f,filters:i,store:S,render:function(t){return t(T)}}).$mount("#app-box")},Opzk:function(t,e,n){function r(t){var e=o[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var o={"./AlarmRecord.vue":["u8GB",2,0],"./EWMShare.vue":["guK1",0,6],"./ForgetPassword.vue":["76lG",0,7],"./HelpCenter.vue":["aoee",0,9],"./Home.vue":["j7e0",1],"./Login.vue":["lmfZ",4,0],"./PersonalCenter.vue":["tJHb",0,8],"./Register.vue":["tcoL",3,0],"./SettingPage.vue":["ETp5",5,0]};r.keys=function(){return Object.keys(o)},r.id="Opzk",t.exports=r},TNMV:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a7abc13fa34c69ba55e6.js.map